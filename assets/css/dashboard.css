/* public/assets/css/dashboard.css (Versión Limpia y Única) */

/* Layout General del Dashboard */
.dashboard-container {
    display: flex;
    flex-grow: 1; /* Ocupa el resto de la altura después del header */
}

:root {
    --color-white: #ffffff;
    --color-black: #1b1b1b;
    --color-gray: #888888;
    --border-strong: 2px solid #1b1b1b;
    --border-radius: 8px;
}

/* Sidebar (Menú Lateral) */
.dashboard-sidebar {
    width: 250px;
    background-color: var(--color-white);
    border-right: var(--border-strong);
    padding: 1.5rem;
    flex-shrink: 0; /* Evita que se encoja */
    height: calc(100vh - 62px); /* Ajusta altura (100% viewport - altura del header aprox) */
    overflow-y: auto; /* Scroll si el menú es muy largo */
}

#view-db {
    padding: 0; /* Quitamos padding si no lo necesitamos directamente aquí */
    border: none; /* Quitamos bordes si no los necesitamos */
    box-shadow: none; /* Quitamos sombra si no la necesitamos */
    background: none; /* Quitamos fondo si no lo necesitamos */
}

.main-menu h3 {
    font-weight: 700;
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
}

/* --- ESTILOS DEL MODAL DE IMPORTACIÓN --- */

/* Paso 2: La Grilla de Mapeo */
#mapping-form {
    display: grid;
    /* Define 3 columnas: [Select CSV] [Flecha] [Texto Destino] */
    grid-template-columns: 1fr 40px 1fr;
    gap: 10px 15px; /* Espacio vertical y horizontal */
    align-items: center; /* Centrar verticalmente los elementos */
    width: 100%;
}

/* Estilo para los Selects generados por JS */
.mapping-select {
    width: 100%;
    padding: 8px 10px;
    border: 2px solid #eee;
    border-radius: var(--border-radius);
    background-color: var(--color-white);
    font-size: 0.95rem;
    cursor: pointer;
}
.mapping-select:focus {
    border-color: var(--accent-color);
    outline: none;
}

/* Flecha central (generada en un div intermedio) */
#mapping-form > div:nth-child(3n+2) {
    text-align: center;
    color: var(--accent-color);
    font-size: 1.2rem;
}

/* Contenedor del Checkbox "Sobreescribir" (al final) */
.checkbox-align-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 1.5rem;
    padding: 12px;
    background-color: #fff5f5; /* Fondo rojizo suave de alerta */
    border: 1px dashed var(--accent-red);
    border-radius: var(--border-radius);
}

.checkbox-align-wrapper label {
    cursor: pointer;
    font-weight: 600;
    color: var(--accent-red);
}

/* --- ESTILOS GENERALES DE MODALES --- */

/* Fondo oscuro (Overlay) */
.modal-overlay {
    position: fixed; /* Fixed para que cubra toda la pantalla siempre */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente */
    backdrop-filter: blur(2px); /* Efecto borroso opcional */
    z-index: 1000; /* Por encima de todo */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

.modal-overlay.hidden {
    display: none;
    opacity: 0;
    pointer-events: none;
}

/* Caja del Modal */
.modal-content {
    background-color: var(--color-white, #fff);
    border: 2px solid var(--color-black, #000); /* Usa tus variables o fallback */
    border-radius: var(--border-radius, 8px);
    box-shadow: 8px 8px 0px rgba(0,0,0,0.2); /* Sombra dura estilo 'neo-brutalism' que veo en tu otro CSS */
    width: 100%;
    max-width: 600px; /* Ancho máximo por defecto */
    max-height: 90vh;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    position: relative;
    animation: slideUp 0.3s ease-out;
}

/* Partes del Modal */
.modal-header {
    padding: 1.5rem;
    border-bottom: 1px solid #eee;
    background-color: #f9f9f9;
}

.modal-header h2 {
    margin: 0;
    font-size: 1.5rem;
    color: var(--color-black, #333);
}

.modal-body {
    padding: 2rem;
    flex-grow: 1;
    overflow-y: auto;
}

.modal-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid #eee;
    background-color: #f9f9f9;
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
}


/* Botón de cerrar (X) */
.modal-close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
    transition: color 0.2s;
}
.modal-close-btn:hover {
    color: var(--accent-red, red);
}

/* Animación de entrada */
@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Estilos específicos del Drag & Drop */
.drop-zone {
    border: 2px dashed #ccc;
    border-radius: 8px;
    padding: 3rem;
    text-align: center;
    color: #666;
    cursor: pointer;
    transition: all 0.2s ease;
    background-color: #fafafa;
}

.drop-zone:hover, .drop-zone.drag-over {
    border-color: var(--accent-color, blue);
    background-color: rgba(0, 0, 0, 0.02);
    color: var(--color-black, #000);
}

#add-row-btn {
    background-color: var(--accent-color);
    color: #fff;
    border-color: #1b1b1b;
}

.table-controls .btn {
    height: 100%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    font-weight: 700;
    font-size: 0.95rem;
    border: 2px solid #1b1b1b;
    border-radius: 8px;
    cursor: pointer;
    white-space: nowrap;
    box-shadow: none;
    transform: none;
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-sizing: border-box;
}

.table-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: var(--border-strong);
    flex-wrap: wrap;
    gap: 1rem;
}

.table-controls {
    display: flex;
    align-items: stretch;
    gap: 16px;
    height: 48px;
}

.table-controls .search-wrapper {
    position: relative;
    display: flex;
    flex: 1;
    align-items: stretch;
    transition: all 0.2s ease;
    flex-grow: 10;
    min-width: 400px;
    height: 100%;
    padding: 0;
    background-color: #fff;
    border: 2px solid #1b1b1b !important;
    border-radius: 8px !important;
    box-shadow: none !important;
    overflow: visible;
    z-index: 50;
}

.import-modal {
    z-index: 100;
}
.btn-secondary {
    background-color: #fff;
    color: var(--color-black);
    border: 2px solid var(--color-black);
}

.btn-secondary:hover {
    background-color: #f0f0f0;
    transform: translateY(-2px);
    box-shadow: 4px 4px 0px rgba(0,0,0,0.1);
}

#open-import-modal-btn {
    background-color: transparent;
    color: #1b1b1b;
}
#open-import-modal-btn:hover {
    background-color: #fff;
}

.main-menu ul { list-style: none; padding: 0; margin: 0; }
.main-menu li { margin-bottom: 0.75rem; }

/* Botones y Enlaces del Menú */
.menu-btn, .menu-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    width: 100%;
    padding: 10px 15px;
    border-radius: var(--border-radius);
    border: none;
    background: none;
    text-align: left;
    line-height: 1.3;
    font-family: var(--font-body);
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    color: var(--color-black);
    text-decoration: none;
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}
.menu-btn:hover, .menu-link:hover { background-color: rgba(0, 0, 0, 0.05); }
.menu-btn.active { background-color: var(--accent-color); color: var(--color-white); }
.main-menu hr { margin: 1rem 0; border: none; height: 2px; background-color: #eee; }

/* Iconos del menú */
.menu-btn i, .menu-link i {
    font-size: 1.2em;
    line-height: 1;
}

/* Contenido Principal */
.dashboard-main {
    flex-grow: 1;
    padding: 2rem;
    background-color: #f9f9f9;
    overflow-x: hidden;
}

/* --- ESTILOS DEL BUSCADOR Y DROPDOWN --- */

/* Contenedor relativo para que el dropdown se posicione respecto a él */
.search-wrapper {
    position: relative;
    display: flex;
    align-items: stretch;
    gap: 0; /* Unimos input y botón visualmente si quieres */
}

/* El menú desplegable */
.search-dropdown {
    position: absolute;
    top: 110%; /* Justo debajo del botón */
    right: 0;
    width: 220px;
    background-color: var(--color-white, #fff);
    border: 2px solid var(--color-black, #1b1b1b);
    border-radius: 8px;
    box-shadow: 4px 4px 0px rgba(0,0,0,0.2); /* Sombra dura estilo StockiFy */
    z-index: 100;
    display: flex;
    flex-direction: column;
    padding: 5px 0;
    max-height: 300px;
    overflow-y: auto;
}

/* Estado oculto */
.search-dropdown.hidden {
    display: none;
}

/* --- CORRECCIÓN VISUAL DEL DROPDOWN --- */

/* Estilo para los ítems del dropdown */
.search-dropdown-item {
    border: none !important;      /* QUITA LAS LÍNEAS FEAS */
    background: transparent;      /* Quita el fondo gris por defecto */
    outline: none;                /* Quita el borde azul al hacer clic */
    width: 100%;
    text-align: left;             /* Alinea el texto a la izquierda */
    padding: 10px 15px;
    font-size: 0.95rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--color-black, #333);
    transition: background-color 0.2s;
}

/* Efecto al pasar el mouse */
.search-dropdown-item:hover {
    background-color: rgba(0, 0, 0, 0.05); /* Un gris muy suavecito */
}

/* El ítem seleccionado se pone de color */
.search-dropdown-item.active {
    background-color: var(--accent-color, #4f46e5);
    color: #fff;
    font-weight: 600;
}

/* Ocultar el check en los no seleccionados para que no ocupe espacio */
.search-dropdown-item i {
    opacity: 0;
    width: 16px; /* Reservar espacio para que no salte el texto */
}
.search-dropdown-item.active i {
    opacity: 1;
}

/* 4. Aseguramos que el contenedor no tenga scroll innecesario */
#search-column-dropdown {
    overflow-x: hidden; /* Evita scroll horizontal */
    padding: 5px 0;     /* Un poco de aire arriba y abajo */
}

/* --- ESTILOS PARA LA COLUMNA DE ACCIONES --- */

.actions-header {
    text-align: center;
    width: 120px; /* Ancho fijo para que no baile */
}

.actions-cell {
    vertical-align: middle;
}

.btn-icon {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.2rem; /* Tamaño de los iconos */
    padding: 4px 6px;
    border-radius: 4px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-black);
}

.btn-icon:hover {
    background-color: rgba(0, 0, 0, 0.05);
    transform: scale(1.1);
}

.btn-icon.action-edit:hover { color: var(--accent-color); }
.btn-icon.action-history:hover { color: var(--accent-blue); }
.btn-icon.action-delete:hover { background-color: #fee2e2; } /* Fondo rojo suave */

/* Input inline al editar */
.inline-edit-input {
    border: 1px solid var(--accent-color);
    border-radius: 4px;
    padding: 4px 8px;
    font-family: inherit;
    font-size: inherit;
    background-color: #fff;
}

.accordion {
    width: 100%;
    /* Lo muevo un poco a la izquierda para que no se sienta "centrado" */
    margin: 0;
}

.accordion-item {
    border: var(--border-strong);
    border-radius: var(--border-radius);
    margin-bottom: 1rem;
    background-color: var(--color-white);
    /* box-shadow: 4px 4px 0px var(--color-black); */
    overflow: hidden;
}

/* Cabecera clickeable */
.accordion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 1rem 1.5rem;

    background-color: var(--color-white);
    border: none;
    /* Borde inferior por defecto (desaparece en el último item) */
    border-bottom: var(--border-strong);

    font-family: var(--font-title);
    font-size: 1.3rem; /* <-- Más presencia */
    font-weight: 700;
    color: var(--color-black);
    cursor: pointer;

    transition: background-color var(--transition-speed) ease;
}

.accordion-item:last-child .accordion-header {
    /* El último item no necesita borde inferior si está cerrado */
    border-bottom: none;
}

.accordion-header:hover {
    background-color: #f9f9f9;
}

/* Estilo del icono de flecha */
.accordion-header i {
    font-size: 1.2rem;
    transition: transform var(--transition-speed) ease;
}

/* Contenido desplegable */
.accordion-content {
    /* Mantenemos los paddings horizontales */
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    text-align: left;

    /* ¡LA MAGIA DE LA ANIMACIÓN! */
    max-height: 0; /* Por defecto, altura 0 */
    overflow: hidden; /* Oculta el contenido que se pasa */
    transition: max-height 0.3s ease-out; /* La animación fluida */
}

.accordion-content.open {
    opacity: 1;
    /* La altura se maneja por JS para ser exacta */
}

.accordion-header .ph-caret-down {
    transition: transform 0.4s ease;
}

.accordion-header.active .ph-caret-down {
    transform: rotate(180deg);
}

.accordion-header.active + .accordion-content {
    max-height: 1000px; /* Un valor alto para que entre el contenido */
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    border-top: var(--border-strong);
}

/* --- ESTADOS ACTIVOS (CUANDO SE ABRE) --- */

.accordion-header.active {
    background-color: #f5f5f5;
}

/* Rotación de la flecha */
.accordion-header.active i {
    transform: rotate(180deg);
}

.accordion-item:last-child .accordion-header.active {
    /* Si está activo, el último item no necesita borde */
    border-bottom: none;
}

/* --- ARREGLOS DE BOTONES Y FORMULARIOS --- */

/* Botón de peligro (para el de "Eliminar") */
.btn-danger {
    background-color: #ffdee1; /* (puedes usar var(--accent-red) si existe) */
    border-color: var(--accent-red);
    color: var(--accent-red);
}
.btn-danger:hover:not(:disabled) {
    background-color: var(--accent-red);
    border-color: var(--accent-red);
    color: #ffdee1;
    box-shadow: 4px 4px 0px #9b2c2c;
    transform: translate(-2px, -2px);
}
.btn-danger:active:not(:disabled) {
    background-color: #9b2c2c;
    box-shadow: 1px 1px 0px var(--color-black);
    transform: translate(3px, 3px);
}

/* Hacemos que los botones DENTRO del acordeón sean de tamaño automático */
.accordion-content .btn {
    width: auto; /* <-- ARREGLA EL ANCHO */
    max-width: 350px;
    padding: 8px 16px; /* <-- ARREGLA EL ALTO */
    font-size: 0.9rem;
    margin-top: 0; /* Quitamos margen superior por defecto */
}

/* Hacemos que el form de añadir columna se vea bien */
.accordion-content #add-column-form {
    display: flex;
    flex-wrap: wrap; /* Para celulares */
    gap: 1rem;
    margin-bottom: 0;
}
.accordion-content #add-column-form .form-group {
    flex-grow: 1; /* El input toma el espacio */
}

/* Vistas dentro del contenido principal */
.dashboard-view { /* Ocultas por defecto con .hidden */
    width: 100%;
    max-width: none; /* Quitamos cualquier max-width heredado */
}

/* Contenedor de la Tabla */
.menu-container {
    width: 100%;
    background-color: var(--color-white);
    border: var(--border-strong);
    border-radius: var(--border-radius);
    box-shadow: 10px 10px 0px var(--color-gray);
    overflow: hidden;
    margin: 0;
}/* Cambiado a griz Franco*/

.table-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: var(--border-strong);
    flex-wrap: wrap;
    gap: 1rem;
}
.table-header h2 { font-size: 1.5rem; margin: 0; }
.table-controls { display: flex; align-items: center; gap: 1rem; }
.table-controls input { max-width: 250px; }

/* --- BOTÓN AÑADIR --- */
#add-row-btn {
    width: auto;      /* Hago que el ancho se ajuste al texto */
    padding: 8px 16px; /* Uso el padding más chico, como los del header */
    margin-top: 0;    /* Quito el margen superior */
    white-space: nowrap; /* Evito que el texto se parta en dos líneas */
}


/* Wrapper y Tabla */
.table-wrapper {
    max-height: calc(100vh - 280px); /* Ajusta según altura del header, padding, etc. */
    overflow: auto;
}
#data-table {
    width: 100%;
    border-collapse: collapse;
}
#data-table th, #data-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #ddd;
    color: var(--color-black);
    white-space: nowrap;
}
#data-table thead th {
    background-color: #f2f2f2;
    font-weight: 700;
    position: sticky;
    top: 0;
    z-index: 1;
    color: #333;
}
#data-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
#data-table tbody tr:hover { background-color: #f1f1f1; }

/* Placeholder para Vistas no implementadas */
.dashboard-view.hidden { display: none; }

/* --- ESTILOS PARA TABLA VACÍA --- */
.empty-table-message {
    text-align: center;
    padding: 3rem 1rem !important; /* Más padding vertical, !important para sobreescribir */
    color: var(--color-gray);
    font-size: 1.1rem;
}

/* Botón inline dentro del mensaje */
.btn-inline {
    display: inline-block; /* Hacemos que sea inline */
    width: auto; /* Ancho automático */
    margin-left: 1rem; /* Espacio a la izquierda */
    padding: 8px 16px; /* Más chico */
    vertical-align: middle; /* Alineamos con el texto */
    box-shadow: none; /* Quitamos sombra base (aparece al hover) */
    margin-top: -5px; /* Ajuste vertical fino */
}
.btn-inline:hover { /* Hereda la sombra del .btn:hover */ }
.btn-inline:active { /* Hereda la animación del .btn:active */ }

/* --- ESTILOS PARA EDICIÓN DE STOCK EN TABLA --- */
.stock-cell {
    display: flex;
    /* Volvemos a 'center' para un centrado vertical más simple */
    align-items: center; /* <-- CAMBIO CLAVE */
    gap: 0.5rem;
}

.stock-btn {
    flex-shrink: 0; /* Evita que los botones se achiquen */
    font-size: 1rem;
    line-height: 1;
    min-width: 25px; /* Ancho mínimo */
    border: var(--border-strong);
    border-radius: var(--border-radius);
    cursor: pointer;
    background-color: #eee;
    transition: background-color var(--transition-speed);
    padding-left: 8px; /* Mantenemos horizontal */
    padding-right: 8px;
    padding-top: 4px;
    padding-bottom: 4px;
}
.stock-btn:hover { background-color: #ddd; }
.stock-btn.minus { color: var(--accent-red); }
.stock-btn.plus { color: var(--accent-green); }

.stock-input {
    flex-grow: 0; /* Ocupa el espacio restante */
    width: 60px; /* Ancho base pequeño */
    padding-top: 4px;
    padding-bottom: 4px;
    padding-left: 6px;
    padding-right: 6px;
    text-align: center;
    border: 1px solid #ccc; /* Borde más suave para el input */
    border-radius: var(--border-radius);
    font-size: 0.9rem;
    /* Quitar flechas por defecto del input number */
    -moz-appearance: textfield;
}
.stock-input::-webkit-outer-spin-button,
.stock-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* --- ESTILOS PARA LA FILA DE EDICIÓN --- */
.editing-row td {
    padding-top: 8px !important;
    padding-bottom: 8px !important;
}

.editing-row input[type="text"],
.editing-row input[type="number"] { /* Input general para la fila de edición */
    width: 50%;
    padding: 6px 8px;
    border: 1px solid var(--accent-color); /* Resaltado */
    border-radius: var(--border-radius);
    font-size: 0.9rem;
}

.editing-row .action-buttons { /* Contenedor para botones Guardar/Cancelar */
    display: flex;
    gap: 0.5rem;
    white-space: nowrap; /* Evita que los botones se partan */
}

.editing-row .action-buttons .btn {
    width: auto;
    padding: 4px 10px;
    font-size: 0.8rem;
    margin: 0;
    line-height: 1;
}

/* Estilo específico para el botón de eliminar final */
#confirm-delete-btn {
    background-color: var(--accent-red);
    border-color: var(--color-black);
    color: var(--color-white);
}
#confirm-delete-btn:disabled {
    background-color: var(--color-gray);
    border-color: var(--color-gray);
    cursor: not-allowed;
    box-shadow: none; /* Quitamos sombra si está deshabilitado */
    transform: none;
}
#confirm-delete-btn:hover:not(:disabled) {
    filter: brightness(1.1); /* Hacemos más brillante al pasar el mouse */
    box-shadow: 4px 4px 0px var(--color-black); /* Mantenemos el pop */
    transform: translate(-2px, -2px);
}
#confirm-delete-btn:active:not(:disabled) {
    filter: brightness(0.9); /* Un poco más oscuro al hacer clic */
    box-shadow: 1px 1px 0px var(--color-black);
    transform: translate(3px, 3px);
}

/*---------                       ESTILOS DE NANO                       ---------*/
/* Estilos Estadisticas */

.daily-stats-wrapper{
    width: fit-content;
    padding: 1rem;
    justify-content: left;
    gap: 3rem;
}

.stat-group-container{
    padding: 1rem;
    gap: 0.5rem;
    border-radius: var(--border-radius);
    border-width: 2px;
    transition: all 0.5s ease;
    background-color: var(--color-white);
    border-color: var(--color-white);
    border-style: solid;
}

.stat-group-container:hover{
    background-color: var(--accent-color);
    border-color: var(--color-black);
}

.stat-group-container h3{
    font-size: 2rem;
}

.daily-stat-item{
    margin-top: 1rem;
    padding: 0.5rem;
    transition: all 0.5s ease;
}

.daily-stat-item:hover{
    cursor: pointer;
    background-color: rgba(0, 0, 0, 0.05);
}

.daily-stat-item h4{
    font-size: 1.2rem;
}

.select-inventory-btn{
    width: fit-content;
    height: fit-content;
    padding: 0.5rem;
    margin-left: 10px;
    background-color: var(--color-white);
    border: var(--border-strong);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: all var(--transition-speed) ease;
}

.select-inventory-btn.clicked{
    border-width: 2px 2px 0 2px;
    border-radius: 5px 5px 0 0;
    background-color: var(--accent-color);
    color: var(--color-white);
}

.select-inventory-btn:hover{
    background-color: var(--accent-color);
    color: var(--color-white);
}

.inventories-dropdown{
    z-index: 1000;
    position: absolute;
    align-items: end;
    background-color: var(--color-white);
    top: 100%;
    right: 0;
    max-height: 400px;
    overflow-y: auto;
    border-radius: 5px 0 5px 5px;
    border: var(--border-strong);
}

.inventory-select-container{
    position: relative;
}

.inventory-btn{
    width: 100%;
    white-space: nowrap;
    display: flex;
    justify-content: right;
    padding: 10px 15px;
    transition: all var(--transition-speed) ease;
    cursor: pointer;
    border-width: 2px 0 0;
    border-style: solid;
    border-color: var(--color-black);
}

.inventory-btn:hover{
    background-color: var(--accent-color);
    color: var(--color-white);
}

.estadisticas-graph-wrapper{
    width: fit-content;
    align-content: center;
}

#new-transaction-container{
    position: fixed;
    top: 50%;
    left:50%;
    transform: translate(-50%, -50%);
    background-color: var(--color-white);
    border-radius: 5px 0 5px 5px;
    border: var(--border-strong);
    z-index: 100;
    padding: 2rem;
}

.product-select-container{
    position: relative;
}

.delete-product-btn{
    font-size: 10px;
    font-weight: 200;
    height: fit-content;
    width: fit-content;
    padding: 0.5rem;
    background-color: rgba(230, 118, 118, 0.61);
    align-self: center;
    margin: 0;
}

#product-list-container p{
    font-size: 15px;
    width: 90px;
}

#transaction-picker-modal{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 101;
    background-color: var(--color-white);
    border: var(--border-strong);
    border-radius: var(--border-radius);
    box-shadow: 5px 5px 0 var(--color-black);
    width: 400px;
    height: fit-content;
    padding: 1rem;
}

#transaction-form-container{
    gap: 1rem;
    height: fit-content;
    width: 500px;
}

@media (max-width: 768px) {
    #transaction-form-container{
        width: 330px;
    }
    #product-list-container p{
        font-size: 12px;
        width: 60px;
    }
    .modify-quantity-btn {
        transform: scale(0.9);
    }
    #new-transaction-container{
        padding: 1rem;
    }
}

.transaction-view{
    display: flex;
    flex-direction: column;
    gap: 2rem;
    padding: 2rem;
}

.sale-row, .receipt-row{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 1rem;
    border: var(--border-strong);
    border-radius: var(--border-radius);
    background-color: var(--color-white);
    transition: all var(--transition-speed) ease;
}

.sale-row:hover, .receipt-row:hover{
    color: var(--color-white);
    background-color: var(--accent-color);
    box-shadow: 4px 4px 0 var(--color-gray);
    transform: translate(-4px, -4px);
    cursor: pointer;
}/* Cambiado a gris Franco*/

.customer-name, .provider-name{
    font-weight: 600;
    font-size: 18px;
    transition: all var(--transition-speed) ease;
}

#transaction-info-modal {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 101;
    background-color: var(--color-white);
    border: var(--border-strong);
    border-radius: var(--border-radius);
    box-shadow: 5px 5px 0 var(--color-black);
    width: 400px;
    min-height: 600px;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
    padding: 1rem;
    gap: 1rem;
}

#product-list-dropdown, #customer-info-dropdown, #provider-info-dropdown{
    max-height: 0;
    transition: all var(--transition-speed) ease-in-out;
    overflow: hidden;
}

.product-list-container, .client-info-container, .provider-info-container{
    padding: 0.8rem;
    border: var(--border-strong);
    border-radius: var(--border-radius);
    background-color: var(--color-white);
}

#product-list-dropdown.visible, #customer-info-dropdown.visible, #provider-info-dropdown.visible{
    max-height: 300px;
}

.dropdown-arrow.rotated{
    transform: rotate(180deg);
}

.client-row,.provider-row{
    justify-content: space-between;
    width: 100%;
    padding: 1rem;
    border: var(--border-strong);
    border-radius: var(--border-radius);
    background-color: var(--color-white);
    transition: all var(--transition-speed) ease;
    cursor: pointer;
}

.client-row:hover, .provider-row:hover{
    background-color: var(--accent-color);
    color: var(--color-white);
    box-shadow: 4px 4px 0 var(--color-gray);
    transform: translate(-4px, -4px);
}/* Cambiado a gris Franco*/

.client-row:active, .provider-row:active{
    transform: translate(4px, 4px);
}

.dropdown-arrow{
    padding: 0.5rem;
    transition: all var(--transition-speed) ease;
    border-radius: 20px;
}

.dropdown-arrow:hover{
    cursor: pointer;
    background-color: rgba(0, 0, 0, 0.05);
}

@media (max-width: 768px) {
    font-size: 14px;
}

.sale-row:active, .receipt-row:active{
    transform: translate(2px, 2px);
}

#product-list-container{
    margin-top: 20px;
    min-height: 50px;
    overflow-y: auto;
    overflow-x: visible;
    max-height: 300px;
}
#transaction-form-container > form{
    display: flex;
    flex-direction: column;
}

.picker-btn{
    font-size: 13px;
    padding: 0.5rem;
    width: fit-content ;
    border: var(--border-strong);
}

.picker-list{
    padding: 0.3rem;
    overflow-y: auto;
    overflow-x: hidden;
    height: 500px;
}

.product-item, .client-picker-item, .provider-picker-item{
    width: 100%;
    padding: 0.5rem;
    margin: 10px 0;
    border: var(--border-strong);
    background-color: var(--color-white);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: all var(--transition-speed) ease;
    box-shadow: 2px 2px 0 var(--color-black);
}

.product-name, .person-name{
    font-weight: 600;
    font-size: 1.1rem;
    width: 180px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.product-stock{
    font-weight: 500;
}

.product-stock > span{
    font-weight: 700;
}

.product-price{
    font-weight: 700;
    align-self: flex-end;
}

.product-inventory-name{
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--color-gray);
}

#inventory-picker-container {
    position: relative;
}

.dashboard-sidebar-mobile{
    position: absolute;
    display: none;
}

.stat-graph{
    padding: 1rem;
    border-radius: var(--border-radius);
    border: var(--border-strong);
}

#stats-wrapper{
    display: flex;
    height: fit-content;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 170px;
    row-gap: 1rem;
    padding: 1rem;
}

.mobile-menu{
    padding: 10px 12px;
    background-color: var(--color-white);
    position: absolute;
    z-index: 200;
    transition: all 0.7s ease;
    display: block !important;
    border: var(--border-strong);
    border-radius: 0 4px 4px;
    box-shadow: 5px 5px 0 var(--color-black);
}

.mobile-menu:not(.hidden){
    left: 0;
    visibility: visible;
    pointer-events: auto;
}

.mobile-menu.hidden{
    left: -200px;
    visibility: hidden;  /* Lo oculta de la vista y de los clics */
    pointer-events: none;
}

#open-mobile-menu-btn{
    position: absolute;
    margin: 10px 0 0 10px;
    padding: 5px;
    background-color: var(--accent-color);
    border: var(--border-strong);
    border-radius: 20px;
}

@media (max-width: 900px) {
    .dashboard-sidebar-mobile{
        display: block;
    }
    .dashboard-sidebar{
        display: none;
    }

    .stat-group-container > h3{
        font-size: 1.5rem;
    }

    .daily-stat-item > h4{
        font-size: 1rem;
    }
}

.product-table-picker{
    padding: 0.5rem;
    text-align: center;
    width: 100px;
    text-wrap: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    font-weight: 600;
    font-size: 0.75rem;
    transition: all var(--transition-speed) ease;
}

.product-table-picker:hover{
    background-color: rgba(0, 0, 0, 0.05);
    cursor: pointer;
}

#item-picker-header {
    position: absolute;
    top: 100%;
    right: 0;
    z-index: 1010;
    background-color: var(--color-white);
    border: var(--border-strong);
    border-radius: var(--border-radius);
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all var(--transition-speed) ease-in-out;
}

#item-picker-header.visible {
    max-height: 300px;
    opacity: 1;
    overflow-y: auto;
}


.product-item:hover, .client-picker-item:hover, .provider-picker-item:hover{
    box-shadow: 4px 4px 0px var(--color-black);
    transform: translate(-2px, -2px);
}

.product-item:active, .client-picker-item:active, .provider-picker-item:active{
    box-shadow: 1px 1px 0px var(--color-black);
    transform: translate(3px, 3px);
}

.product-item.selected, .client-picker-item.selected, .provider-picker-item.selected{
    background-color: var(--accent-color);
    color: var(--color-white);
}

.product-item.no-stock{
    cursor: not-allowed;
    box-shadow: none;
    color: var(--color-gray);
    border-color: var(--color-gray);
}

#transaction-success-modal{
    background-color: var(--color-white);
    padding: 2rem;
    max-width: 500px;
    min-width: 300px;
    position: absolute;
    z-index: 100;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: var(--border-strong);
    border-radius: var(--border-radius);
    box-shadow: 5px 5px 0 var(--color-black);
}

.modify-quantity-btn{
    transform: scale(1.5);
    transition: all var(--transition-speed) ease;
}

/* Estilos Ventas / Compras */

.order-by-dropdown{
    position: absolute;
    align-items: start;
    background-color: var(--color-white);
    top: 100%;
    left: -2px;
    right: -2px;
    border-radius: 0 0 5px 5px;
    border-width: 0 2px 2px 2px;
    border-style: solid;
    border-color: var(--color-black);
}

.order-by-container{
    position: relative;
    padding: 5px 0 5px 5px;
    border-radius: var(--border-radius);
    border: var(--border-strong);
    z-index: 20;
}

.order-by-container.clicked{
    border-width: 2px 2px 0 2px;
    border-radius: 5px 5px 0 0;
}

.order-by-dropdown p {
    width: 100%;
    height: fit-content;
    padding: 10px 0 10px 10px;
}

.order-by-dropdown p:hover{
    cursor: pointer;
    background-color: rgba(0, 0, 0, 0.05);
}

/* --- ESTILOS DE CONFIGURACIÓN (CORREGIDO) --- */

/* 1. Contenedor y Tarjeta */
.config-section-wrapper {
    max-width: 800px;
    margin: 2rem auto !important;
    padding: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
}

.config-card {
    background-color: var(--color-white);
    border: var(--border-strong); /* Usa tu variable de borde fuerte */
    border-radius: var(--border-radius);
    /* Sombra desplazada "dura" que no se corta */
    box-shadow: 8px 8px 0px rgba(0,0,0,0.15);
    /* IMPORTANTE: overflow visible para que la sombra se vea, pero manejamos el radio en los hijos */
    overflow: visible;
    margin-bottom: 2rem;
    transition: transform 0.2s ease;
    position: relative;
}

/* 2. Cabecera */
.config-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 2rem;
    background-color: transparent; /* Transparente para no tapar bordes */
    cursor: pointer;
    border-bottom: 1px solid transparent;
    transition: background-color 0.2s;
    /* Redondeamos solo arriba para respetar la tarjeta */
    border-radius: calc(var(--border-radius) - 2px) calc(var(--border-radius) - 2px) 0 0;
}
.config-header:hover { background-color: rgba(0,0,0,0.02); }

/* Línea divisoria solo cuando está abierto */
#recomended-columns-form.visible {
    /* AUMENTADO: De 1000px a 3000px para que NUNCA corte el botón de guardar */
    max-height: 3000px !important;
    opacity: 1;
    margin-top: 1rem;
    padding-top: 10px;
    border-top: 1px solid #eee;
}

.header-title { display: flex; align-items: center; gap: 15px; }
.header-title h2 { font-size: 1.3rem; margin: 0; font-weight: 700; color: var(--color-black); }

/* Estilo para el icono de flecha Phosphor */
.header-arrow {
    font-size: 1.5rem;
    color: var(--color-black);
    transition: transform 0.3s ease;
    cursor: pointer;
}
/* Clase que añade JS al girar */
#open-columnas-recomendadas-btn.is-rotated {
    transform: rotate(180deg);
}

/* 3. Cuerpo del Formulario */
.config-body {
    padding: 2rem;
    background-color: transparent; /* IMPORTANTE: Transparente para evitar esquinas blancas */
}
.config-description { color: #666; margin-bottom: 1.5rem; font-size: 0.95rem; }

/* 4. Grupos y Filas */
.config-group {
    background-color: #f9f9f9;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
    position: relative;
}

/* Fila de dos columnas (Compra / Venta) */
.config-group-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
}
.half-width {
    flex: 1; /* Ocupan 50% cada uno */
    margin-bottom: 0;
}

/* 5. Toggles (Interruptores) */
.config-toggle-btn {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    cursor: pointer;
    margin-bottom: 0;
}
.toggle-label { font-weight: 600; font-size: 1rem; color: #333; display: flex; align-items: center; gap: 8px; }

.toggle-switch {
    width: 44px;
    height: 24px;
    background-color: #e0e0e0;
    border-radius: 99px;
    position: relative;
    transition: background-color 0.3s;
    border: 2px solid transparent;
}
.toggle-switch::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 16px;
    height: 16px;
    background-color: white;
    border-radius: 50%;
    transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* Estado Activo del Toggle */
.hidden-checkbox:checked + .config-toggle-btn .toggle-switch { background-color: var(--accent-color); }
.hidden-checkbox:checked + .config-toggle-btn .toggle-switch::after { transform: translateX(20px); }

/* 6. Inputs (Fade In/Out) */
.modern-input {
    width: 100%;
    box-sizing: border-box;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background-color: #fff;
    font-size: 0.95rem;
    transition: all 0.3s ease;

    /* Estado inicial oculto */
    max-height: 0;
    opacity: 0;
    padding-top: 0;
    padding-bottom: 0;
    margin-top: 0;
    border-width: 0;
    overflow: hidden;
}

.modern-input.visible {
    max-height: 50px;
    opacity: 1;
    margin-top: 10px;
    padding: 10px;
    border-width: 1px;
}
.modern-input:focus { border-color: var(--accent-color); outline: none; }

/* 7. Sección Anidada (Cálculo Automático) */
.nested-group {
    /* Estado OCULTO: Forzamos a cero todo para anular la clase config-group */
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    background: transparent !important;

    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.4s ease;
}

/* Estado VISIBLE: Restauramos los estilos */
.nested-group.visible {
    margin-top: 1rem !important;
    padding: 1.25rem !important; /* Padding original */
    border: 1px solid #e5e7eb !important; /* Restauramos borde */
    border-left: 4px solid #e5e7eb !important; /* Borde izquierdo grueso */
    background-color: #f8fafc !important;
    border-radius: 0 8px 8px 0;

    max-height: 600px; /* Altura suficiente para que se vea TODO */
    opacity: 1;
}

/* ESTADO ACTIVO (Cuando el checkbox interno está marcado) */
.nested-group:has(.hidden-checkbox:checked) {
    border-left-color: var(--accent-color) !important;
    background-color: rgba(var(--accent-color-rgb), 0.05) !important;
}

/* Indicador de estado (Rayo) */
.status-indicator { color: #ccc; transition: color 0.3s; }
.hidden-checkbox:checked + .secondary-toggle .status-indicator { color: var(--accent-color); }

/* 8. Radio Chips Horizontales (Ganancia) */
.radio-options-horizontal {
    display: flex;
    gap: 10px;
    margin-top: 10px;

    /* Animación */
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.3s ease;
}
/* AUMENTADO para que no corte los botones */
.radio-options-horizontal.visible {
    max-height: 100px;
    opacity: 1;
    padding-bottom: 2px; /* Espacio extra para sombras */
}

.radio-chip { flex: 1; }
.radio-chip input { display: none; }
.radio-chip span {
    display: block;
    text-align: center;
    padding: 8px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}
.radio-chip input:checked + span {
    background-color: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* 9. Radio Options Verticales (Cálculo Auto) */
.radio-options-container {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 10px;
    display: none; /* Controlado por JS con .visible (o tu lógica actual) */
}
.radio-options-container.visible { display: flex; animation: fadeIn 0.3s; }

.radio-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px;
    cursor: pointer;
    background: #fff;
    border: 1px solid #eee;
    border-radius: 6px;
}
.radio-option:hover { background-color: #f5f5f5; }
.radio-option input { margin: 0; }

/* Animaciones y utilidades
.nested-group { margin-top: 10px; margin-left: 20px; padding: 10px 15px; border-left: 3px solid var(--accent-color); }
.secondary-toggle .toggle-label { font-size: 0.9rem; color: #555; }
.btn-lg { font-size: 1.1rem; padding: 14px; margin-top: 1rem; }
@media (max-width: 600px) { .config-group-row { flex-direction: column; } .nested-group { margin-left: 0; } }
 ------------------- */

/* 10. Zona de Peligro */
.danger-zone-card {
    border: 2px dashed #fca5a5;
    background-color: #fef2f2;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    margin-top: 2rem;
}
.danger-header { color: var(--accent-red); display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 1rem; }
.btn-danger-outline {
    background: transparent;
    border: 2px solid var(--accent-red);
    color: var(--accent-red);
    font-weight: 700;
    padding: 10px 20px;
    border-radius: 8px;
    transition: all 0.2s;
}
.btn-danger-outline:hover { background: var(--accent-red); color: white; }

/* --- ESTILOS EXCLUSIVOS: SECCIÓN CÁLCULO AUTOMÁTICO (FINAL v3) --- */

.special-auto-card {
    /* Diseño de Tarjeta */
    background-color: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 16px;
    margin-top: 2rem;
    margin-bottom: 2rem;
    overflow: hidden; /* Mantiene todo adentro */

    /* Estado inicial: OCULTO */
    max-height: 0;
    opacity: 0;
    border-color: transparent;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); /* Animación más fluida */
}

/* Estado VISIBLE */
.special-auto-card.visible {
    /* CORRECCIÓN ALTURA: Valor alto para que NUNCA corte el contenido */
    max-height: 1500px;
    opacity: 1;
    border-color: #e5e7eb;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
}

/* Cabecera (El botón que se clickea) */
.special-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 1.5rem;
    cursor: pointer;
    background-color: #f9fafb;
    transition: background-color 0.2s;
    user-select: none;
    margin-bottom: 0;

    /* CORRECCIÓN BORDE BLANCO: Redondeamos las esquinas superiores del header */
    /* para que coincidan con la tarjeta y no se vea el fondo blanco del padre */
    border-radius: 15px 15px 0 0;
    /* Margen negativo minúsculo para asegurar cobertura del borde si es necesario */
    margin: -1px -1px 0 -1px;
    width: calc(100% + 2px);
}
.special-card-header:hover { background-color: #f3f4f6; }

.special-card-title {
    font-weight: 700;
    font-size: 1.05rem;
    color: #374151;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* El Check Circular */
.custom-circle-check {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    border: 2px solid #d1d5db; /* Borde gris por defecto */
    background-color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    color: transparent;
}
.custom-circle-check i { font-size: 14px; font-weight: 900; }

/* CORRECCIÓN COLOR HOVER: Al pasar el mouse por la CABECERA, el círculo se pinta */
/* CORRECCIÓN CHECK PRINCIPAL: Forzar color acento al hover */
.special-card-header:hover .custom-circle-check {
    border-color: var(--accent-color) !important;
    color: var(--accent-color); /* Para que el icono (si estuviera visible) también se pinte */
}

/* --- ESTADO ACTIVADO (Check interno TRUE) --- */

/* 1. Pintar el check (Activo) */
#auto-price-input:checked ~ .special-card-header .custom-circle-check {
    background-color: var(--accent-color);
    border-color: var(--accent-color);
    color: #fff;
    transform: scale(1.1);
}

/* 2. Iluminar título (Opcional, queda bien) */
#auto-price-input:checked ~ .special-card-header .special-card-title {
    color: var(--accent-color);
}

/* 3. Desplegar el contenido */
.special-card-content {
    max-height: 0;
    overflow: hidden;
    background-color: #fff;
    transition: max-height 0.4s ease;
}

#auto-price-input:checked ~ .special-card-content {
    max-height: 500px; /* Espacio para los radios */
    border-top: 1px solid #e5e7eb;
}

.special-card-content .radio-options-container {
    padding: 1.5rem;
    display: flex;
}

/* CORRECCIÓN RADIOS: Círculo de color acento al hacer hover en la opción */
.radio-option:hover .radio-circle {
    border-color: var(--accent-color) !important;
    background-color: rgba(var(--accent-color-rgb), 0.05); /* Opcional: fondo suave */
}

/* --- SOLUCIÓN DEFINITIVA DE POSICIONAMIENTO Y GRID --- */

/* 1. EL CONTENEDOR (La ventana grande) */
#new-transaction-container {
    /* Lo sacamos del flujo para centrarlo perfectamente en pantalla */
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;

    /* Tamaño masivo asegurado */
    width: 90vw !important; /* 90% del ancho de la pantalla */
    height: 85vh !important; /* 85% del alto */
    max-width: 1600px;

    /* Estética */
    background: #ffffff;
    border: 3px solid #000000;
    box-shadow: 15px 15px 0px #000000; /* Sombra dura notable */
    border-radius: 0; /* Bordes rectos para mas limpieza o 8px si preferis */

    /* Comportamiento interno */
    padding: 40px !important;
    z-index: 9999; /* Por encima de todo */
    overflow-y: auto; /* Scroll si la lista es larga */
    box-sizing: border-box;
}

/* 2. LA FILA DE PRODUCTOS (El Grid) */
/* Apuntamos especificamente a las filas dentro de la lista para matar el flexbox */
#product-list-container .flex-row {
    display: grid !important;

    /* DEFINICIÓN DE COLUMNAS:
       1. Nombre: Se lleva el espacio sobrante (minimo 200px)
       2. Stock: Fijo 100px
       3. Cantidad: Fijo 150px (espacio para los botones)
       4. Precio Venta: Fijo 120px
       5. Precio Total: Fijo 120px
       6. Boton X: Fijo 50px
    */
    grid-template-columns: minmax(250px, 1fr) 100px 150px 120px 120px 50px !important;

    gap: 20px !important; /* Espacio real entre columnas */
    align-items: center !important;

    /* Aseguramos que ocupe todo el ancho disponible */
    width: 100% !important;
    padding: 15px 10px !important;
    border-bottom: 2px solid #e0e0e0 !important;
    margin: 0 !important;
}

/* 3. AJUSTES DE CONTENIDO INTERNO */
/* Para que los textos dentro de las celdas no se rompan */
#product-list-container .flex-row > div {
    width: auto !important; /* Reseteamos anchos forzados */
    text-align: left; /* Alineación limpia */
}

/* Ajuste específico para columnas de precio y total (alinear a la derecha visualmente si queres) */
#product-list-container .flex-row > div:nth-child(4),
#product-list-container .flex-row > div:nth-child(5) {
    text-align: right; /* Precios a la derecha */
}

/* El botón de eliminar centrado */
#product-list-container .flex-row .delete-product-btn {
    margin: 0 auto !important;
}

/* Títulos de las columnas (Nombre, Stock, etc) en negrita */
#product-list-container .flex-row p:first-child {
    font-size: 0.75rem;
    text-transform: uppercase;
    color: #888;
    margin-bottom: 5px;
    letter-spacing: 1px;
}

#product-list-container .flex-row p:nth-child(2) {
    font-size: 1rem;
    color: #000;
    font-weight: 700;
}

/* --- FORZAR EXPANSIÓN DEL CONTENIDO INTERNO --- */

/* 1. Que el contenedor del formulario ocupe todo el ancho disponible */
#transaction-form-container {
    width: 100%;
    height: 100%; /* Para que también ocupe el alto si hace falta */
}

/* 2. Que el formulario mismo se estire al 100% */
#transaction-form-container form {
    width: 100%;
    display: flex;
    flex-direction: column;
}

/* 3. IMPORTANTE: Que todas las filas (flex-row) dentro de la ventana ocupen el 100% */
/* Esto arregla los títulos "Productos" y "Cliente" que se veían chicos */
#new-transaction-container .flex-row {
    width: 100%;
    box-sizing: border-box; /* Para que el padding no rompa el ancho */
}

/* 4. Separación visual para que no esté todo pegado arriba */
#new-transaction-container h3 {
    margin-top: 0;
    font-size: 1.5rem; /* Texto más grande acorde a la ventana */
}

/* 5. Ajuste del botón 'Volver' para que no tape nada */
#return-btn {
    position: absolute; /* Ya lo tenías, pero aseguramos */
    top: 20px !important;
    left: 20px !important;
    z-index: 10;
}

/* Ajuste extra para que el título no se pegue al botón volver */
#transaction-form-container hr:first-of-type {
    margin-top: 3rem;
}

/* --- CLASE MAESTRA DE GRILLA (Para Encabezado y Filas) --- */
.transaction-grid-layout {
    display: grid !important;
    /* DEFINICIÓN DE COLUMNAS FLEXIBLES:
       1. Nombre: 3 partes (Se lleva el mayor espacio)
       2. Stock: 1 parte
       3. Cantidad: 1.5 partes (Espacio para botones)
       4. P. Unitario: 1 parte
       5. Total: 1 parte
       6. Acción: 0.5 partes (Botón X pequeño)
    */
    grid-template-columns: 3fr 1fr 1.5fr 1fr 1fr 0.5fr !important;
    gap: 15px !important;
    width: 100% !important;
    align-items: center !important;
    padding: 10px 0 !important;
    box-sizing: border-box !important; /* Vital para evitar scroll */
}

/* Estilo para el Encabezado (PHP) */
.transaction-header {
    border-bottom: 2px solid #0b0b0b;
    margin-bottom: 10px;
}
.transaction-header span {
    font-size: 0.85rem;
    font-weight: 800;
    text-transform: uppercase;
    color: #666;
    letter-spacing: 0.5px;
}

/* Estilo para las Filas de Datos (JS) */
.transaction-row {
    border-bottom: 1px solid #e0e0e0;
    background: #fff;
    transition: background 0.2s;
}
.transaction-row:hover {
    background: #f9f9f9;
}

/* Alineación de textos dentro de la grilla */
.grid-cell-right { text-align: right; }
.grid-cell-center { text-align: center; }
.grid-cell-left { text-align: left; }

/* Texto de datos */
.grid-data {
    font-size: 1rem;
    font-weight: 600;
    color: #0b0b0b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Ajuste final para asegurar que no haya scroll en el contenedor padre */
#product-list-container {
    overflow-x: hidden;
    width: 100%;
}

/* --- ESTILOS DE GRILLA PARA NUEVA VENTA --- */
.transaction-grid-layout {
    display: grid !important;
    /* Columnas: Nombre (flexible), Stock, Cantidad, Precio, Total, Borrar */
    grid-template-columns: 3fr 1fr 1.5fr 1fr 1fr 0.5fr !important;
    gap: 15px !important;
    width: 100% !important;
    align-items: center !important;
    padding: 10px 0 !important;
    box-sizing: border-box !important;
}

.transaction-header {
    border-bottom: 2px solid #0b0b0b;
    margin-bottom: 5px;
    padding-bottom: 10px !important;
}

.transaction-header span {
    font-size: 0.8rem;
    font-weight: 800;
    text-transform: uppercase;
    color: #555;
}

.transaction-row {
    border-bottom: 1px solid #e0e0e0;
    background: #fff;
    padding: 12px 0 !important;
}

/* Alineaciones */
.grid-cell-left { text-align: left; }
.grid-cell-center { text-align: center; }
.grid-cell-right { text-align: right; }

.grid-data {
    font-size: 0.95rem;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* --- ESTILO PARA EL MODAL DE SELECCIÓN (FLOTANTE) --- */
#transaction-picker-modal {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;

    /* Z-INDEX SUPERIOR AL DE LA VENTANA PRINCIPAL (que tiene 9999) */
    z-index: 10000 !important;

    background-color: #ffffff;
    border: 2px solid #0b0b0b;
    box-shadow: 10px 10px 0px rgba(0,0,0,0.5); /* Sombra para profundidad */

    /* Dimensiones controladas */
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    padding: 20px;
    border-radius: 6px;
}

/* Oscurecer un poco la ventana de atrás para dar foco a la de adelante (Opcional) */
#new-transaction-container.background-blur {
    filter: blur(2px) grayscale(50%);
    pointer-events: none; /* Evita clicks en la de atrás mientras seleccionas */
    transition: all 0.3s;
}

/* --- BOTÓN DE AYUDA (¿Donde están mis inventarios?) --- */
.btn-accent-highlight {
    background-color: var(--accent-color) !important; /* Fondo de color */
    color: #0b0b0b !important; /* Texto negro para contraste */
    border: 2px solid #0b0b0b !important;
    box-shadow: 4px 4px 0px rgba(0,0,0,0.2) !important; /* Sombra suave para no competir tanto */
    font-weight: 800 !important;
    text-transform: uppercase;
    font-size: 0.8rem !important;
    padding: 8px 15px !important;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    display: inline-block;
}

.btn-accent-highlight:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0px #0b0b0b !important; /* Sombra dura negra al hover */
    filter: brightness(1.1); /* Un poquito más brillo */
}

/* --- BOTÓN DE FILTRO (Todos los inventarios) --- */
/* "Ancho absoluto" para que no baile según el texto */
.btn-fixed-sidebar {
    width: 100% !important; /* Ocupa todo el ancho de su columna padre */
    min-width: 200px; /* Ancho mínimo asegurado */
    text-align: center !important;
    justify-content: center !important;
    display: flex !important;
    box-sizing: border-box !important; /* Para que el padding no rompa el ancho */
}

/* --- TICKET DE VENTA (ESTILO FINAL) --- */
.ticket-container {
    background: #fffafa; /* Color papel suave */
    border: none; /* Quitamos borde sólido para usar shadow realista */
    padding: 30px; /* Más espacio interno */
    font-family: 'Courier New', Courier, monospace;

    /* ANCHO AUMENTADO */
    width: 100%;
    max-width: 600px; /* Mucho más ancho */
    margin: 0 auto 30px auto; /* Centrado y con margen abajo para los dientes */

    position: relative;

    /* Sombra que respeta los recortes del papel */
    filter: drop-shadow(0px 5px 10px rgba(0,0,0,0.15));
}

/* Efecto de borde superior (opcional, línea de corte) */
.ticket-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    border-top: 1px dashed #ccc;
}

/* --- EFECTO PAPEL ARRANCADO (Triángulos Invertidos) --- */
.ticket-container::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -10px; /* Posicionado justo debajo */
    width: 100%;
    height: 10px; /* Altura de los dientes */

    /* El truco de los triángulos con gradientes */
    background-image:
            linear-gradient(135deg, #fffafa 50%, transparent 50%),
            linear-gradient(225deg, #fffafa 50%, transparent 50%);

    background-position: top left, top right;
    background-size: 20px 10px; /* Ancho y alto de cada diente */
    background-repeat: repeat-x;
}

/* Ajuste para que los textos dentro del ticket respiren */
.ticket-row {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px dashed #ddd; /* Líneas punteadas internas */
    font-size: 1rem;
}

/* El total bien grande */
.ticket-total-price {
    font-size: 2.5rem;
    font-weight: 900;
    font-family: 'Satoshi-Black', sans-serif;
    margin-top: 5px;
}

.config-button { /*Agregado para mayor consistencia en los botnes de configuracion Franco*/
    width: 250px !important;
    text-align: left;
    justify-content: center;
}

#generalTour img {
    width: 10px;
    height: 10px;
}